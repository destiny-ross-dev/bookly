@model IEnumerable<BooklyReview.Models.Book>



@{

    ViewBag.Title = "Books";

    Layout = "~/Views/Shared/_Layout.cshtml";

}



<h2>Books</h2>

<table id="movies" class="table table-bordered table-hover">

    <thead>

        <tr>

            <th>Book</th>
            <th>Author</th>
            <th>Genre</th>
            <th>Number in Stock</th>
            <th>Number Available</th>

        </tr>

    </thead>

    <tbody></tbody>

</table>

@section scripts
{

    <script>
        $(document).ready(function () {
            var table = $("#movies").DataTable({
                ajax: {
                    url: "/api/books",
                    dataSrc: ""
                },
                columns: [
                    {
                        data: "name",
                    },
                    {data: "author"},
                    {
                        data: "genre.name"
                    },
                    { data: "numberInStock" },
                    {data: "numberAvailable" }
                ]
            });

            
        });
    </script>

}